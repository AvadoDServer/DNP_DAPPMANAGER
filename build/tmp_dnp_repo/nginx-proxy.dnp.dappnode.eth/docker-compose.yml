version: '3.4'
services:
    nginx-proxy.dnp.dappnode.eth:
        image: 'nginx-proxy.dnp.dappnode.eth:0.0.1'
        container_name: DAppNodePackage-nginx-proxy.dnp.dappnode.eth
        labels:
            - dnp_version=0.0.1
            - com.github.jrcs.letsencrypt_nginx_proxy_companion.nginx_proxy
        volumes:
            - '~/certs:/etc/nginx/certs:ro'
            - 'vhost.d:/etc/nginx/vhost.d'
            - 'html:/usr/share/nginx/html'
            - '/var/run/docker.sock:/tmp/docker.sock:ro'
        ports:
            - '80:80'
            - '443:443'
        networks:
            - dncore_network
        dns: 10.17.0.2
volumes:
    vhost.d: {}
    html: {}
networks:
    dncore_network:
        external: true
